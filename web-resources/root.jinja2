<!--
  ¬©Ô∏è Dan Gazizullin, 2021-2023
  This file is a part of Hikka Userbot
  Edited for MaxHeroku
-->

{% extends "base.jinja2" %}

{% block head %}
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bodymovin/5.8.1/lottie.min.js"></script>
<script src="//unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
<link href="https://css.gg/css?=arrow-right-r|add|brackets|chevron-right-o|smartphone" rel="stylesheet">
<!-- –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–Ω–¥–æ–º–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, —á—Ç–æ–±—ã —Å–±—Ä–æ—Å–∏—Ç—å –∫—ç—à -->
<link rel="stylesheet" href="{{ static("base.css") }}?v={{ range(1, 10000) | random }}">
<script src="{{ static("fsb.js") }}"></script>
<script src="{{ static("audio_effects.js") }}?v={{ range(1, 10000) | random }}"></script>

<style>
    #enter_api, #block_api_id, #block_api_hash {
        display: none !important;
    }
</style>
{% endblock %}

{% block content %}
{% endblock %}

{% block after %}

<!-- –≠–õ–ï–ú–ï–ù–¢ –î–õ–Ø –í–°–ü–´–®–ö–ò -->
<div id="beat_flash" class="beat-flash"></div>

<!-- FSB MODAL -->
<div id="fsb_modal">
    <div class="fsb_content">
        <div class="fsb_eagle">ü¶Ö</div>
        <div class="fsb_title">–ì–û–°–£–î–ê–†–°–¢–í–ï–ù–ù–´–ô –ö–û–ù–¢–†–û–õ–¨</div>
        <div class="fsb_text">
            –í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–º –∑–∞–∫–æ–Ω–æ–º –†–§, –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Ä–∞–∑—Ä–µ—à–µ–Ω —Ç–æ–ª—å–∫–æ –≥—Ä–∞–∂–¥–∞–Ω–∞–º, –Ω–µ –∏–º–µ—é—â–∏–º —Å—Ç–∞—Ç—É—Å–∞ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.
            <br><br>
            –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à —Å—Ç–∞—Ç—É—Å –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è.
        </div>
        <label class="fsb_checkbox_container">
            <input type="checkbox" id="fsb_check" class="fsb_checkbox">
            <span>–Ø –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ –ù–ï —è–≤–ª—è—é—Å—å –∏–Ω–æ–∞–≥–µ–Ω—Ç–æ–º</span>
        </label>
        <button id="fsb_btn" class="fsb_btn">–í–û–ô–¢–ò –í –°–ò–°–¢–ï–ú–£</button>
    </div>
</div>

<!-- –ê–£–î–ò–û -->
<audio id="ru_anthem" src="/static/anthem.mp3" loop crossorigin="anonymous"></audio>

<div class="flag-overlay"></div>

<div class="blur auth vert_center">
  <div id="tg_icon"></div>
  <div class="waiting_for_auth">Waiting for authentication...</div>
  <div class="confirm_auth">Please, confirm action in <span style="color:#28a0dc">Telegram</span></div>
</div>

<div class="auth-code-form blur">
  <div id="monkey"></div>
  <div id="monkey-close"></div>
  <span class="code-caption">Enter the code you recieved from Telegram</span>
  <input type="text" class="code-input" autocomplete="off">
  <div class="enter">Enter</div>
</div>

<div class="eula-form blur">
  <div class="vert_center" style="height: 100%">
    <div>
      <div id="law"></div>
      <br><br>
      <span class="code-caption">You are <span style="color:#c54245">prohibited</span> from adding more than 1 account
        on the current platform.</span>
    </div>
  </div>
</div>

<div class="wrapper">
  <div class="blur main finish_block">
    <div id="installation_icon"></div>
    <div class="title">MaxHost Installed</div>
    <div class="description">
      MaxHost (–ì–æ—Å–ø—Ä–∏–µ–º–∫–∞) —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –ú–æ–∂–µ—Ç–µ –∑–∞–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.
      <br>
      <b>–ò–¥–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ —Ä–µ–µ—Å—Ç—Ä–µ –†–ö–ù... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∂–∏–¥–∞–π—Ç–µ.</b>
      <br>
      <span style="font-size: 24px;">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ <span style="color:#28a0dc">Telegram</span> –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç <b>MaxHost Bot</b></span>
    </div>
  </div>

  <div class="blur main installation">
    <div class="title">
      <div class="heroku_label">
        <div class="label_inner">
          <img src="{{ platform_emoji }}" class="ringed_planet">
          &nbsp;MaxHost
        </div>
      </div>
    </div><br>
    <div class="description">–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ ‚Ññ1<br><span
        style="color: #18cc18; display: none" class="authorized">–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ –ï–°–ò–ê!</span></div>
    
    <div class="center">
      {% if not tg_done %}
      <div class="button" id="get_started">
        <div class="horiz_center">
          <div class="vert_center">–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É</div>
          <div class="vert_center"><i class="gg-arrow-right-r"></i></div>
        </div>
      </div>
      {% else %}
      <div class="button" id="get_started">
        <div class="horiz_center">
          <div class="vert_center">–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω</div>
          <div class="vert_center"><i class="gg-add"></i></div>
        </div>
      </div>
      {% endif %}
      
      {% if skip_creds and not lavhost %}
      <div class="button" id="enter_api">
        <div class="horiz_center">
          <div class="vert_center">API Creds</div>
          <div class="vert_center"><i class="gg-brackets"></i></div>
        </div>
      </div>
      {% endif %}

      <!-- –°–∫—Ä—ã—Ç—ã–µ –±–ª–æ–∫–∏ –≤–≤–æ–¥–∞ API -->
      <span id="block_api_id">
        <label class="api_id" for="api_id">Telegram API ID: </label>
        <input class="api_id" id="api_id" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" value="27845500">
      </span>
      <span id="block_api_hash">
        <label class="api_hash" for="api_hash">Telegram API hash: </label>
        <input class="api_hash" id="api_hash" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" value="85503ef6dbe72f9cfd501c00d6680ff7">
      </span>

      <span id="block_phone">
        <label class="phone" for="phone">–¢–µ–ª–µ—Ñ–æ–Ω: </label>
        <input class="phone" id="phone" placeholder="+7999..." style="width: 12em;">
      </span>
      
      <span id="block_custom_bot">
        <label class="custom_bot" for="custom_bot">–ò–º—è Inline-–±–æ—Ç–∞ (–ù–∞–ø—Ä–∏–º–µ—Ä @my_bot): </label>
        <input class="custom_bot" id="custom_bot" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏"
          style="width: 20em;" type="text">
      </span>

      <span id="block_qr_login">
        <div class="qr_outer">
          <div class="qr_inner">
            <dotlottie-player autoplay loop mode="normal" src="static/4T7FajtZbx.lottie"
              style="width: 100px; height: 100px">
            </dotlottie-player>
          </div>
        </div>
        <div class="tg_guide">
          <ol>
            <li><span>–û—Ç–∫—Ä–æ–π—Ç–µ Telegram –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ</span></li>
            <li><span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üí –ü–æ–¥–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</span></li>
            <li><span>–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ QR –∫–æ–¥</span></li>
          </ol>
        </div>
      </span>
    </div>

    <div class="horiz_center">
      <div id="continue_btn" class="button">
        <div class="horiz_center">
          <div class="vert_center">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</div>
          <div class="vert_center"><i class="gg-chevron-right-o"></i></div>
        </div>
      </div>
      <div id="denyqr" class="button">
        <div class="horiz_center">
          <div class="vert_center">–í—Ö–æ–¥ –ø–æ –Ω–æ–º–µ—Ä—É</div>
          <div class="vert_center"><i class="gg-smartphone"></i></div>
        </div>
      </div>
    </div>
  </div>
  <div id="root"></div>
</div>

<script>
  var skip_creds = "{{ skip_creds }}" == "True";
  var auth_required = true;
  fetch("/check_session", {
    method: "POST",
    credentials: "include"
  })
    .then(response => response.text())
    .then((response) => {
      auth_required = response != "1";
    }).catch(() => {});
</script>
<script src="{{ static("root.js") }}"></script>
{% endblock %}
